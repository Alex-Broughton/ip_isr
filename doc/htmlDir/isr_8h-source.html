<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>LSST: /astro/users/nms/code/isrtrunk/include/lsst/ip/isr/isr.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="dir_f96beea7452e15a44a1b60d8464fbc9c.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_cba010ac5ffb510b3a6034ae41c916bb.html">lsst</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_94b62009528b501ba3450e19e8e6919a.html">ip</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_f806a12b2f032300422a54c6caa41895.html">isr</a></div>
<h1>isr.h</h1><a href="isr_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// -*- LSST-C++ -*- // fixed format comment for emacs</span>
<a name="l00019"></a>00019 <span class="comment"></span><span class="preprocessor">#ifndef LSST_IP_ISR_ISR_H</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span><span class="preprocessor">#define LSST_IP_ISR_ISR_H</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span>        
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00023"></a>00023         
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;boost/shared_ptr.hpp&gt;</span>
<a name="l00025"></a>00025         
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;lsst/afw/image/Exposure.h&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;lsst/afw/image/Image.h&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;lsst/afw/image/Mask.h&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;lsst/afw/math/Function.h&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;lsst/daf/data/DataProperty.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;lsst/pex/policy/Policy.h&gt;</span>
<a name="l00032"></a>00032 
<a name="l00064"></a>00064 <span class="keyword">namespace </span>lsst {
<a name="l00065"></a>00065 <span class="keyword">namespace </span>ip {
<a name="l00066"></a>00066 <span class="keyword">namespace </span>isr {
<a name="l00067"></a>00067                
<a name="l00068"></a>00068     <span class="keyword">typedef</span> boost::uint16_t <a class="code" href="namespacelsst_1_1ip_1_1isr.html#b013f9a2cf7ac68a3e1ded9f5fdb4a25">maskPixelType</a>;
<a name="l00069"></a>00069     
<a name="l00070"></a>00070     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT, <span class="keyword">typename</span> MaskT&gt;
<a name="l00071"></a>00071     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; <a class="code" href="namespacelsst_1_1ip_1_1isr.html#9b419f80938aae7420089c588c530b8f">assembleChunkExposure</a>(
<a name="l00072"></a>00072         lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; &amp;chunkExposure,
<a name="l00073"></a>00073         lsst::afw::image::Image&lt;ImageT&gt; &amp;chunkImage,
<a name="l00074"></a>00074         lsst::daf::data::DataProperty::PtrType &amp;chunkMetaData,
<a name="l00075"></a>00075         lsst::afw::image::Mask&lt;MaskT&gt; &amp;badPixelMask       
<a name="l00076"></a>00076         );
<a name="l00077"></a>00077     
<a name="l00078"></a>00078     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT, <span class="keyword">typename</span> MaskT&gt;
<a name="l00079"></a>00079     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; <a class="code" href="namespacelsst_1_1ip_1_1isr.html#f06d4a775dd3589b7336828489cd3330" title="Detect and mask pixels that are saturated (in the A/D converter or have excessive...">saturationCorrectionForChunkExposure</a>(
<a name="l00080"></a>00080         lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; &amp;chunkExposure,
<a name="l00081"></a>00081         lsst::daf::data::DataProperty::PtrType &amp;chunkMetaData,
<a name="l00082"></a>00082         lsst::pex::policy::Policy &amp;policy
<a name="l00083"></a>00083         <span class="comment">//lsst::daf::data::DataProperty::PtrType &amp;saturationLookUpTable</span>
<a name="l00084"></a>00084         );
<a name="l00085"></a>00085     
<a name="l00086"></a>00086     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT, <span class="keyword">typename</span> MaskT&gt;
<a name="l00087"></a>00087     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; <a class="code" href="namespacelsst_1_1ip_1_1isr.html#ba77af464fdfc73e33eaa6f844c12ea7">overscanCorrectChunkExposure</a>(
<a name="l00088"></a>00088         lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; &amp;chunkExposure,
<a name="l00089"></a>00089         lsst::daf::data::DataProperty::PtrType &amp;chunkMetaData,
<a name="l00090"></a>00090         lsst::pex::policy::Policy &amp;policy
<a name="l00091"></a>00091         );
<a name="l00092"></a>00092 
<a name="l00093"></a>00093     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT, <span class="keyword">typename</span> MaskT&gt;
<a name="l00094"></a>00094     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; <a class="code" href="namespacelsst_1_1ip_1_1isr.html#c66e8aac545e16d0aade66d7f74b303d">trimChunkExposure</a>(
<a name="l00095"></a>00095         lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; &amp;chunkExposure,
<a name="l00096"></a>00096         lsst::daf::data::DataProperty::PtrType &amp;chunkMetaData,
<a name="l00097"></a>00097         lsst::pex::policy::Policy &amp;policy
<a name="l00098"></a>00098         );
<a name="l00099"></a>00099 
<a name="l00100"></a>00100     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT, <span class="keyword">typename</span> MaskT&gt;
<a name="l00101"></a>00101     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; <a class="code" href="namespacelsst_1_1ip_1_1isr.html#f1e2ab254fc715c0ae5e8696bf459631">biasCorrectChunkExposure</a>(
<a name="l00102"></a>00102         lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; &amp;chunkExposure,
<a name="l00103"></a>00103         lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; &amp;masterExposure,
<a name="l00104"></a>00104         lsst::daf::data::DataProperty::PtrType &amp;chunkMetaData,
<a name="l00105"></a>00105         lsst::daf::data::DataProperty::PtrType &amp;masterMetaData
<a name="l00106"></a>00106         );
<a name="l00107"></a>00107 
<a name="l00108"></a>00108     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT, <span class="keyword">typename</span> MaskT&gt;
<a name="l00109"></a>00109     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; <a class="code" href="namespacelsst_1_1ip_1_1isr.html#a78a461df074c4275c067ed601e8bf05">darkCorrectChunkExposure</a>(
<a name="l00110"></a>00110         lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; &amp;chunkExposure,
<a name="l00111"></a>00111         lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; &amp;masterExposure,
<a name="l00112"></a>00112         lsst::daf::data::DataProperty::PtrType &amp;chunkMetaData,
<a name="l00113"></a>00113         lsst::daf::data::DataProperty::PtrType &amp;masterMetaData
<a name="l00114"></a>00114         );
<a name="l00115"></a>00115 
<a name="l00116"></a>00116     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT, <span class="keyword">typename</span> MaskT&gt;
<a name="l00117"></a>00117     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; <a class="code" href="namespacelsst_1_1ip_1_1isr.html#4ef577270911258a9c790e81a13f2f2d">maskBadPixelsInChunkExposure</a>(
<a name="l00118"></a>00118         lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; &amp;chunkExposure,
<a name="l00119"></a>00119         lsst::afw::image::Mask&lt;MaskT&gt; <span class="keyword">const</span> &amp;badPixelMask,
<a name="l00120"></a>00120         lsst::daf::data::DataProperty::PtrType &amp;chunkMetaData,
<a name="l00121"></a>00121         lsst::pex::policy::Policy &amp;policy
<a name="l00122"></a>00122         );
<a name="l00123"></a>00123 
<a name="l00124"></a>00124     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT, <span class="keyword">typename</span> MaskT&gt;
<a name="l00125"></a>00125     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; <a class="code" href="namespacelsst_1_1ip_1_1isr.html#b374d32a981f98e94932fef7928fd86a">linearizeChunkExposure</a>(
<a name="l00126"></a>00126         lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; &amp;chunkExposure,
<a name="l00127"></a>00127         lsst::daf::data::DataProperty::PtrType &amp;chunkMetaData,
<a name="l00128"></a>00128         lsst::afw::function::Function2&lt;FunctionT&gt; <span class="keyword">const</span> &amp;function,
<a name="l00129"></a>00129         lsst::pex::policy::Policy &amp;policy
<a name="l00130"></a>00130         );
<a name="l00131"></a>00131 
<a name="l00132"></a>00132     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT, <span class="keyword">typename</span> MaskT&gt;
<a name="l00133"></a>00133     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; <a class="code" href="namespacelsst_1_1ip_1_1isr.html#b990b8654c9f9f0736e5bec417eb89ec">flatCorrectChunkExposure</a>(
<a name="l00134"></a>00134         lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; &amp;chunkExposure,
<a name="l00135"></a>00135         lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; &amp;masterExposure,
<a name="l00136"></a>00136         lsst::daf::data::DataProperty::PtrType &amp;chunkMetaData,
<a name="l00137"></a>00137         lsst::daf::data::DataProperty::PtrType &amp;masterMetaData,
<a name="l00138"></a>00138         lsst::pex::policy::Policy &amp;policy
<a name="l00139"></a>00139         );
<a name="l00140"></a>00140 
<a name="l00141"></a>00141     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT, <span class="keyword">typename</span> MaskT&gt;
<a name="l00142"></a>00142     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; <a class="code" href="namespacelsst_1_1ip_1_1isr.html#a9ef8930973190ac37dcc23bc57d9f6b">scatteredLightCorrection</a>(
<a name="l00143"></a>00143         
<a name="l00144"></a>00144         
<a name="l00145"></a>00145         );
<a name="l00146"></a>00146 
<a name="l00147"></a>00147     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT, <span class="keyword">typename</span> MaskT&gt;
<a name="l00148"></a>00148     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; <a class="code" href="namespacelsst_1_1ip_1_1isr.html#c0175fb10f9feb7ad895e65ac645ca8f">geometricDistortionCorrection</a>(
<a name="l00149"></a>00149         
<a name="l00150"></a>00150         
<a name="l00151"></a>00151         );
<a name="l00152"></a>00152 
<a name="l00153"></a>00153     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT, <span class="keyword">typename</span> MaskT&gt;
<a name="l00154"></a>00154     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; <a class="code" href="namespacelsst_1_1ip_1_1isr.html#d679ae45c17dc937e4a238805bfe5963">pupilImageCorrection</a>(
<a name="l00155"></a>00155         
<a name="l00156"></a>00156         
<a name="l00157"></a>00157         );
<a name="l00158"></a>00158 
<a name="l00159"></a>00159     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT, <span class="keyword">typename</span> MaskT&gt;
<a name="l00160"></a>00160     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; <a class="code" href="namespacelsst_1_1ip_1_1isr.html#31d2c32ff7e95c27d91e68a65f324a6d">maskOpticalGhostsAndDiffractionSpikes</a>(
<a name="l00161"></a>00161         
<a name="l00162"></a>00162         
<a name="l00163"></a>00163         );
<a name="l00164"></a>00164 
<a name="l00165"></a>00165     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT, <span class="keyword">typename</span> MaskT&gt;
<a name="l00166"></a>00166     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; <a class="code" href="namespacelsst_1_1ip_1_1isr.html#e07e4f2ad1f7f7234dac257f7a123f1e">defringeChunkExposure</a>(
<a name="l00167"></a>00167         lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; &amp;chunkExposure,
<a name="l00168"></a>00168         lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; &amp;masterExposure,
<a name="l00169"></a>00169         lsst::daf::data::DataProperty::PtrType &amp;chunkMetaData,
<a name="l00170"></a>00170         lsst::daf::data::DataProperty::PtrType &amp;masterMetaData,
<a name="l00171"></a>00171         lsst::pex::policy::Policy &amp;policy  
<a name="l00172"></a>00172         );
<a name="l00173"></a>00173 
<a name="l00174"></a>00174 <span class="comment">// Probable Utility Functions that will need to be moved elsewhere eventually</span>
<a name="l00175"></a>00175 
<a name="l00176"></a>00176     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageT, <span class="keyword">typename</span> MaskT&gt;
<a name="l00177"></a>00177     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; <a class="code" href="namespacelsst_1_1ip_1_1isr.html#6baca3e106c27028ba74a1cae054c44b">interpolateOverMaskedPixels</a>(
<a name="l00178"></a>00178         lsst::afw:image::Exposure&lt;ImageT, MaskT&gt; &amp;chunkExposure,
<a name="l00179"></a>00179         lsst::daf::data::DataProperty::PtrType &amp;chunkMetaData,
<a name="l00180"></a>00180         lsst::pex::policy::Policy &amp;policy  
<a name="l00181"></a>00181         );
<a name="l00182"></a>00182 
<a name="l00183"></a>00183 
<a name="l00184"></a>00184 <span class="comment">// // The following are not necessary for the nightly ISR stage - but needed</span>
<a name="l00185"></a>00185 <span class="comment">// // for the Archive Center ISR stage.</span>
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 <span class="comment">//     template&lt;typename ImageT, typename MaskT&gt;</span>
<a name="l00188"></a>00188 <span class="comment">//     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; crosstalkCorrectChunkExposure(</span>
<a name="l00189"></a>00189 <span class="comment">//         );</span>
<a name="l00190"></a>00190 
<a name="l00191"></a>00191 <span class="comment">// // Will need additional correction to images based on dataCube model from</span>
<a name="l00192"></a>00192 <span class="comment">// // dome flats and aux telescope + models frm satellites + etc.</span>
<a name="l00193"></a>00193 
<a name="l00194"></a>00194 <span class="comment">//     template&lt;typename ImageT, typename MaskT&gt;</span>
<a name="l00195"></a>00195 <span class="comment">//     lsst::afw::image::Exposure&lt;ImageT, MaskT&gt; additionalFlatCorrection(</span>
<a name="l00196"></a>00196 <span class="comment">//         );</span>
<a name="l00197"></a>00197 
<a name="l00198"></a>00198 }}} <span class="comment">// namespace lsst::ip::isr</span>
<a name="l00199"></a>00199         
<a name="l00200"></a>00200 <span class="preprocessor">#endif // !defined(LSST_IP_ISR_ISR_H)</span>
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Mon Jun 30 11:01:50 2008 for LSST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
